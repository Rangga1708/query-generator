{
  "list_of_features": 
  [
    {
      "id": "vidcall-1",
      "name": "[Video Call] Blacklist to Video Call"
    }
  ],
  "query":
  [
    {
      "id": "vidcall-1",
      "query_select": "SELECT * FROM user_profile.blacklisted_user WHERE blacklist_value IN ({blacklist_value});",
      "query_execute": "MERGE INTO USER_PROFILE.BLACKLISTED_USER tgt\nUSING (SELECT\n  '{blacklisted_id}' AS blacklisted_id,\n  '{blacklist_type}' AS blacklist_type,\n  '{blacklist_value}' AS blacklist_value,\n  {status} AS is_deleted,\n  'SYSTEM' AS created_by,\n  SYSDATE AS created_time,\n  'SYSTEM' AS updated_by,\n  SYSDATE AS updated_time\n  FROM DUAL) src\nON (tgt.blacklist_type = src.blacklist_type AND tgt.blacklist_value = src.blacklist_value)\nWHEN MATCHED THEN UPDATE SET\n  tgt.blacklisted_id = src.blacklisted_id,\n  tgt.is_deleted = src.is_deleted,\n  tgt.updated_by = src.updated_by,\n  tgt.updated_time = src.updated_time\nWHEN NOT MATCHED THEN INSERT (blacklisted_id, blacklist_type, blacklist_value, is_deleted, created_by, created_time, updated_by, updated_time)\nVALUES (src.blacklisted_id, src.blacklist_type, src.blacklist_value, src.is_deleted, src.created_by, src.created_time, src.updated_by, src.updated_time);"
    }
  ]
}

